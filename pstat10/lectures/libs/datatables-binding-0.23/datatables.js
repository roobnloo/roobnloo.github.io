!function(){function e(){l||(l=!0,$.fn.dataTable.ext.afnFiltering.push((function(e,t,n){var r=e.nTable.ctfilter;if(r&&!r[n])return!1;var a=e.nTable.ctselect;return!(a&&!a[n])})))}var t={},n=function(e,t,n,r,a,l){if(x=l?e.toPrecision(t):e.toFixed(t),!/^-?[\d.]+$/.test(x))return x;var i=x.split(".");return i.length>2?x:(i[0]=i[0].replace(new RegExp("\\B(?=(\\d{"+n+"})+(?!\\d))","g"),r),i.join(a))};t.formatCurrency=function(e,t,r,a,l,i,o,s){var c=parseFloat(e);if(isNaN(c))return"";if(null!==s&&0===c)return s;var d=n(c,r,a,l,i);return d=o?/^-/.test(d)?"-"+t+d.replace(/^-/,""):t+d:d+t},t.formatString=function(e,t,n){return null===e?"":t+e+n},t.formatPercentage=function(e,t,r,a,l,i){var o=parseFloat(e);return isNaN(o)?"":null!==i&&0===o?i:n(100*o,t,r,a,l)+"%"},t.formatRound=function(e,t,r,a,l,i){var o=parseFloat(e);return isNaN(o)?"":null!==i&&0===o?i:n(o,t,r,a,l)},t.formatSignif=function(e,t,r,a,l,i){var o=parseFloat(e);return isNaN(o)?"":null!==i&&0===o?i:n(o,t,r,a,l,!0)},t.formatDate=function(e,t,n){var r=e;return null===r?"":("toDateString"!==t&&"toLocaleDateString"!==t||!/^\d{4,}\D\d{2}\D\d{2}$/.test(r)?r=new Date(r):(r=r.split(/\D/),r=new Date(r[0],r[1]-1,r[2])),r[t].apply(r,n))},window.DTWidget=t;var r=function(e,t){var n=$(e).find("input").first(),r=n.data("searchable");n.prop("disabled",!r||t.disabled);var a=e.getAttribute("data-type");if(["factor","logical"].includes(a)){var l=t.params.options.map((function(e){return{text:e,value:e}})),i=$(e).find(".selectized").eq(0)[0].selectize,o=i.getValue();i.clearOptions(),i.addOption(l),i.setValue(o)}else if(["number","integer","date","time"].includes(a)){var s=$(e).find(".noUi-target").eq(0),c=Math.pow(10,Math.max(0,+s.data("scale")||0)),d=(l=[t.params.min*c,t.params.max*c]).slice(),u=(o=s.val().map(Number),s.noUiSlider("options").range);u=[u.min,u.max],o[0]!=u[0]&&(l[0]=Math.max(o[0],l[0])),o[1]!=u[1]&&(l[1]=Math.min(o[1],l[1])),s.noUiSlider({start:l,range:{min:d[0],max:d[1]}},!0)}},a=function(e){return 0===e.length?e:HTMLWidgets.transposeArray2D(e)},l=!1;HTMLWidgets.widget({name:"datatables",type:"output",renderOnNullValue:!0,initialize:function(e){return $.valHooks.number={get:function(e){return 1*e.value}},$(e).html("&nbsp;"),{data:null,ctfilterHandle:new crosstalk.FilterHandle,ctfilterSubscription:null,ctselectHandle:new crosstalk.SelectionHandle,ctselectSubscription:null}},renderValue:function(t,n,l){if(0!==t.offsetWidth&&0!==t.offsetHeight){l.data=null;var i=$(t);if(i.empty(),null!==n){var o=n.crosstalkOptions;o||(o={key:null,group:null}),o.group&&(e(),l.ctfilterHandle.setGroup(o.group),l.ctselectHandle.setGroup(o.group)),window.HTMLWidgets.viewerMode&&(n.hasOwnProperty("fillContainer")||(n.fillContainer=!0),n.hasOwnProperty("autoHideNavigation")||(n.autoHideNavigation=!0)),l.fillContainer=n.fillContainer;var s=n.data;s instanceof Array&&(s=a(s)),i.append(n.container);var c,d=i.find("table");switch(n.class&&d.addClass(n.class),n.caption&&d.prepend(n.caption),n.selection||(n.selection={mode:"none",selected:null,target:"row",selectable:null}),HTMLWidgets.shinyMode&&"none"!==n.selection.mode&&"row+column"===n.selection.target&&0===d.children("tfoot").length&&(d.append($("<tfoot>")),d.find("thead tr").clone().appendTo(d.find("tfoot"))),n.filter){case"top":d.children("thead").append(n.filterHTML),c=d.find("thead tr:last td");break;case"bottom":0===d.children("tfoot").length&&d.append($("<tfoot>")),d.children("tfoot").prepend(n.filterHTML),c=d.find("tfoot tr:first td")}var u={searchDelay:1e3};null!==s&&$.extend(u,{data:s});var f=void 0!==$.fn.popover;l.fillContainer&&(u.scrollX=!0,u.scrollY="100px",!1===n.options.paging&&(f&&(u.dom="<'row'<'col-sm-4'i><'col-sm-8'f>><'row'<'col-sm-12'tr>>"),u.fnInfoCallback=function(e,t,n,r,a){return Number(a).toLocaleString()+" records"})),!0===n.autoHideNavigation&&!1!==n.options.paging&&(s instanceof Array&&n.options.pageLength>=s.length?u.dom=f?"<'row'<'col-sm-12'tr>>":"t":f&&window.FlexDashboard&&window.FlexDashboard.isMobilePhone()&&(u.dom="<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'p>>")),$.extend(!0,u,n.options||{});var h=u.searchCols;h&&(h=h.map((function(e){return null===e?"":e.search})),delete u.searchCols);var p=!0===u.serverSide,v=[],g=[];p&&HTMLWidgets.shinyMode&&"object"==typeof u.ajax&&/^session\/[\da-z]+\/dataobj/.test(u.ajax.url)&&!u.ajax.dataSrc&&(u.ajax.dataSrc=function(e){v=$.makeArray(e.DT_rows_all),g=$.makeArray(e.DT_rows_current);var t=e.data;if(!w())return t;var n,r,a,l=d.DataTable().colReorder.order(),i=!0;for(n=0;n<l.length;++n)l[n]!==n&&(i=!1);if(i)return t;for(n=0;n<t.length;++n)for(a=t[n].slice(),r=0;r<l.length;++r)t[n][r]=a[l[r]];return t});var m=this;l.fillContainer&&d.on("init.dt",(function(){m.fillAvailableHeight(t,$(t).innerHeight())}));var w=function(){return"colReorder"in u},b=d.DataTable(u);if(i.data("datatable",b),l.ctfilterSubscription&&(l.ctfilterHandle.off("change",l.ctfilterSubscription),l.ctfilterSubscription=null),l.ctselectSubscription&&(l.ctselectHandle.off("change",l.ctselectSubscription),l.ctselectSubscription=null),o.group){var y=o.key;function x(e){if(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;for(var r={},a=0;a<y.length;a++)t[y[a]]&&(r[a]=!0);return r}return null}function C(e){d[0].ctfilter=x(e.value),b.draw()}function k(e){if(e.sender!==l.ctselectHandle&&(b.rows("."+U,{search:"applied"}).nodes().to$().removeClass(U),X&&D("rows_selected",X(),void 0,!0)),e.sender!==l.ctselectHandle&&e.value&&e.value.length){var t=x(e.value);if(!0===(crosstalk.var("plotlyCrosstalkOpts").get()||{}).persistent)t=$.extend(t,d[0].ctselect);d[0].ctselect=t,b.draw()}else d[0].ctselect&&(d[0].ctselect=null,b.draw())}l.ctfilterSubscription=l.ctfilterHandle.on("change",C),C({value:l.ctfilterHandle.filteredKeys}),l.ctselectSubscription=l.ctselectHandle.on("change",k),k({value:l.ctselectHandle.value})}else d[0].ctfilter=null,d[0].ctselect=null;var H=function(e,t){return $.inArray(e,$.makeArray(t))>-1},S=function(e,t){var n=!1,r=!0;return u.search&&(n=u.search.regex,r=!1!==u.search.caseInsensitive),b.column(e).search(t,n,!n,r)};"none"!==n.filter&&c.each((function(e,r){var a,l,i=$(r),o=i.data("type"),s=i.children("div").first().children("input"),c=s.prop("disabled"),d=b.settings()[0].aoColumns[e].bSearchable;s.prop("disabled",!d||c),s.data("searchable",d),s.on("input blur",(function(){s.next("span").toggle(Boolean(s.val()))})),s.next("span").css("pointer-events","auto").hide().click((function(){$(this).hide().prev("input").val("").trigger("input").focus()})),h&&h[e]&&(l=h[e],s.val(l).trigger("input"));var f=i.children("div").last(),v=$(t).find(".dataTables_scrollHead,.dataTables_scrollFoot"),g=v.css("overflow"),m=$(t).find(".dataTables_scrollBody"),y=m.css("overflow"),x=$(t).find(".dataTables_scroll"),C=x.css("overflow");if("hidden"===g&&(f.on("show hide",(function(e){"show"===e.type?(v.css("overflow","visible"),m.css("overflow","visible"),x.css("overflow-x","scroll")):(v.css("overflow",g),m.css("overflow",y),x.css("overflow-x",C))})),f.css("z-index",25)),H(o,["factor","logical"])){s.on({click:function(){s.parent().hide(),f.show().trigger("show"),a[0].selectize.focus()},input:function(){""===s.val()&&a[0].selectize.setValue([])}});var k=f.children("select");a=k.selectize({options:k.data("options").map((function(e){return{text:e,value:e}})),plugins:["remove_button"],hideSelected:!0,onChange:function(t){null===t&&(t=[]),s.val(t.length?JSON.stringify(t):""),t.length&&s.trigger("input"),s.attr("title",s.val()),p?b.column(e).search(t.length?JSON.stringify(t):"").draw():(i.data("filter",t.length>0),b.draw())}}),l&&a[0].selectize.setValue(JSON.parse(l)),a[0].selectize.on("blur",(function(){f.hide().trigger("hide"),s.parent().show(),s.trigger("blur")})),a.next("div").css("margin-bottom","auto")}else if("character"===o){var _=function(){S(e,s.val()).draw()};p&&(_=$.fn.dataTable.util.throttle(_,u.searchDelay)),s.on("input",_)}else if(H(o,["number","integer","date","time"])){var M=f;f=M.children("div").first(),M.css({"background-color":"#fff",border:"1px #ddd solid","border-radius":"4px",padding:n.vertical?"35px 20px":"20px 20px 10px 20px"});var T=M.children("span").css({"margin-top":n.vertical?"0":"10px","white-space":"nowrap"}),D=T.first(),A=T.last(),N=+f.data("min"),W=+f.data("max"),F=Math.pow(10,Math.max(0,+f.data("scale")||0));N=Math.round(N*F),W=Math.round(W*F);var O=function(e,t){if(1===t)return e;var n=Math.round(Math.log(t)/Math.log(10));return(e/t).toFixed(n)},I=function(){return a.noUiSlider("options").range.min},L=function(){return a.noUiSlider("options").range.max};s.on({focus:function(){M.show().trigger("show"),M.width(Math.max(160,D.outerWidth()+A.outerWidth()+20)),(M.outerWidth()<s.outerWidth()||n.vertical)&&M.outerWidth(s.outerWidth()),$(window).width()<M.offset().left+M.width()&&M.offset({left:s.offset().left+s.outerWidth()-M.outerWidth()})},blur:function(){M.hide().trigger("hide")},input:function(){""===s.val()&&a.val([I(),L()])},change:function(){var e=s.val().replace(/\s/g,"");if(""!==e)if(2===(e=e.split("...")).length){""===e[0]&&(e[0]=I()),""===e[1]&&(e[1]=L()),s.parent().removeClass("has-error");var t=function(e){var t=new Date(e+("date"===o?"T00:00:00Z":"")).getTime();return"date"===o?t+36e5:t};H(o,["date","time"])&&(e[0]=t(e[0]),e[1]=t(e[1])),e[0]!=I()&&(e[0]*=F),e[1]!=L()&&(e[1]*=F),a.val(e)}else s.parent().addClass("has-error")}});var z=function(t,r){if(t=O(t,F),"number"===o)return t;if("integer"===o)return parseInt(t);var a=new Date(+t),l="filterDateFmt"in n?n.filterDateFmt[e]:void 0;if(void 0!==l&&!1===r)return a[l.method].apply(a,l.params);if("date"===o){var i=function(e){return("0"+e).substr(-2,2)};return a.getUTCFullYear()+"-"+i(1+a.getUTCMonth())+"-"+i(a.getUTCDate())}return a.toISOString()},j="date"===o?{step:36e5}:"integer"===o?{step:1}:{};j.orientation=n.vertical?"vertical":"horizontal",j.direction=n.vertical?"rtl":"ltr",a=f.noUiSlider($.extend({start:[N,W],range:{min:N,max:W},connect:!0},j)),F>1&&function(){for(var e=N,t=W,n=a.val();n[0]>N||n[1]<W;)n[0]>N&&(e-=n[0]-N),n[1]<W&&(t+=W-n[1]),n=(a=f.noUiSlider($.extend({start:[e,t],range:{min:e,max:t},connect:!0},j),!0)).val();N=e,W=t}();var R=function(e,t){D.text(z(e,!1)),A.text(z(t,!1))};R(N,W);var V=function(t){var n=a.val();i.data("filter",n[0]>I()||n[1]<L());var r,l=z(n[0]),o=z(n[1]);i.data("filter")?(r=l+" ... "+o,s.attr("title",r).val(r).trigger("input")):s.attr("title","").val(""),R(n[0],n[1]),"slide"!==t.type&&(p?b.column(e).search(i.data("filter")?r:"").draw():b.draw())};a.on({set:V,slide:V})}if(p)l&&S(e,l).draw();else{var U=function(t,n){if(b.settings()[0]!==t)return!0;if(void 0===a||!i.data("filter"))return!0;var r,l,s,c=a.val(),d=function(e){if(!w())return e;var t,n=b.colReorder.order();for(t=0;t<n.length;++t)if(n[t]===e)return t;return e};if(r=n[d(e)],"number"===o||"integer"===o){if(r=parseFloat(r),isNaN(r))return!1;if(l=parseFloat(O(c[0],F)),s=parseFloat(O(c[1],F)),r>=l&&r<=s)return!0}else if("date"===o||"time"===o){if(r=new Date(r),l=new Date(c[0]/F),s=new Date(c[1]/F),r>=l&&r<=s)return!0}else if("factor"===o){if(0===c.length||H(r,c))return!0}else if("logical"===o){if(0===c.length)return!0;if(H(""===r?"na":r,c))return!0}return!1};$.fn.dataTable.ext.search.push(U),l&&(H(o,["factor","logical"])?a[0].selectize.setValue(JSON.parse(l)):"character"===o?s.trigger("input"):H(o,["number","integer","date","time"])&&s.trigger("change"))}}));var _=function(){var e=$(b.table().body());e.unhighlight(),0!==b.rows({filter:"applied"}).data().length&&(e.highlight($.trim(b.search()).split(/\s+/)),c&&c.each((function(e,t){var n=$(t),r=n.data("type");if("character"===r){var a=n.children("div").first().children("input"),l=b.column(e).nodes().to$(),i=$.trim(a.val());"character"===r&&""!==i&&l.highlight(i.split(/\s+/))}})))};if(u.searchHighlight&&(b.on("draw.dt.dth column-visibility.dt.dth column-reorder.dt.dth",_).on("destroy",(function(){b.off("draw.dt.dth column-visibility.dt.dth column-reorder.dt.dth")})),jQuery.fn.highlight.options.escapeRegex=!u.search||!u.search.regex,_()),"function"==typeof n.callback&&n.callback(b),n.editable&&b.on("dblclick.dt","tbody td",(function(e){if(e.target===this){var t=[],r=!1;switch(n.editable.target){case"cell":t=[this],r=!0;break;case"row":t=b.cells(b.cell(this).index().row,"*").nodes();break;case"column":t=b.cells("*",b.cell(this).index().column).nodes();break;case"all":t=b.cells().nodes();break;default:throw'The editable parameter must be "cell", "row", "column", or "all"'}for(var a=n.editable.disable?n.editable.disable.columns:null,l=n.editable.numeric,i=n.editable.area,o=0;o<t.length;o++)!function(e,n){var o,s=$(e),c=s.html(),d=b.cell(e),u=d.data(),f=d.index().column;o=H(f,l)?$('<input type="number">'):H(f,i)?$("<textarea></textarea>"):$('<input type="text">'),r||(s.data("input",o).data("html",c),o.attr("title","Hit Ctrl+Enter to finish editing, or Esc to cancel")),o.val(u),H(f,a)&&o.attr("readonly","").css("filter","invert(25%)"),s.empty().append(o),e===n&&o.focus(),o.css("width","100%"),r&&o.on("blur",(function(){var t=o.val();t!=u?(d.data(t),HTMLWidgets.shinyMode&&D("cell_edit",[ue(e)],"DT.cellInfo",null,{priority:"event"}),p||b.draw(!1)):s.html(c)})).on("keyup",(function(e){27===e.keyCode&&o.trigger("blur")})),r||o.on("keyup",(function(e){var n=function(e,t){e.data("input").remove(),t&&e.html(e.data("html"))};if(27===e.keyCode)for(var r=0;r<t.length;r++)n($(t[r]),!0);else if(13===e.keyCode&&e.ctrlKey){var a,l,i=[];for(r=0;r<t.length;r++)a=t[r],l=$(a),b.cell(a).data(l.data("input").val()),HTMLWidgets.shinyMode&&i.push(ue(a)),n(l,!1);HTMLWidgets.shinyMode&&D("cell_edit",i,"DT.cellInfo",null,{priority:"event"}),p||b.draw(!1)}}))}(t[o],this)}})),HTMLWidgets.shinyMode||o.group){var M={},T={};M.updateCaption=function(e){e&&d.children("caption").replaceWith(e)},l.clearInputs={};var D=function(e,n,r,a,i){var s=e;if(e=t.id+"_"+e,r&&(e=e+":"+r),("cell_edit"===s||/_clicked$/.test(s)||!T.hasOwnProperty(e)||T[e]!==JSON.stringify(n))&&(T[e]=JSON.stringify(n),HTMLWidgets.shinyMode&&Shiny.setInputValue&&(Shiny.setInputValue(e,n,i),l.clearInputs[e]||(l.clearInputs[e]=function(){Shiny.setInputValue(e,null)})),"rows_selected"===s&&!a&&o.group)){var c=o.key,d=null;if(n){d=[];for(var u=0;u<n.length;u++)d.push(c[n[u]-1])}l.ctselectHandle.set(d)}},A=function(e){return e.map((function(e){return 1+e}))},N=function(e){var t=[];return $.each(e,(function(e,n){-1===$.inArray(n,t)&&t.push(n)})),t},W=function(e){var t=e.index();return void 0===t?{row:null,col:null}:(p?t.row=g[t.row]:t.row+=1,{row:t.row,col:t.column})};(function(){D("rows_selected",[]),D("columns_selected",[]),D("cells_selected",a([]),"shiny.matrix")})();var F=void 0!==b.settings()[0]._select;if("none"===n.selection.mode&&!p&&F){var O=function(){var e=b.rows({selected:!0}),t=[];$.each(e.indexes().toArray(),(function(e,n){t.push(n+1)})),D("rows_selected",t)},I=function(){var e=b.columns({selected:!0});D("columns_selected",e.indexes().toArray())},L=function(){var e=b.cells({selected:!0}),t=[];e.every((function(){var e=this.index().row,n=this.index().column;t=t.concat([[e+1,n]])})),D("cells_selected",a(t),"shiny.matrix")};b.on("select deselect",(function(){O(),I(),L()}))}var z=n.selection.mode,j=n.selection.target,R=!1===n.selection.selectable;if(H(z,["single","multiple"])){var V,U=H(n.style,["bootstrap","bootstrap4"])?"active":"selected",P=function(e){return null===e||"boolean"==typeof e||"cell"===j?{rows:[],cols:[]}:"row"===j?{rows:$.makeArray(e),cols:[]}:"column"===j?{rows:[],cols:$.makeArray(e)}:"row+column"===j?{rows:$.makeArray(e.rows),cols:$.makeArray(e.cols)}:void 0},J=n.selection.selected,B=P(J).rows,E=P(J).cols,K=n.selection.selectable,q=P(K).rows,G=P(K).cols,Y=function(e,t){var n=p?v:b.rows({search:"applied"}).indexes().toArray();if((e=n.indexOf(e))>(t=n.indexOf(t))){var r=t;t=e,e=r}return n.slice(e,t+1)},Q=function(e){return p?g[e]:e+1};if(H(j,["row","row+column"])){var X=function(){var e=b.rows("."+U).indexes().toArray();return p?(e=e.map((function(e){return g[e]})),B="multiple"===z?N(B.concat(e)):e):B=A(e)},Z=function(){if(R)B=[];else if(0!==q.length){var e=q[0]<=0;B=e?$(B).not(q.map((function(e){return-e}))).get():$(B).filter(q).get()}},ee=function(e){if(e||Z(),b.$("tr."+U).removeClass(U),0!==B.length)if(p)b.rows({page:"current"}).every((function(){H(g[this.index()],B)&&$(this.node()).addClass(U)}));else{var t=B.map((function(e){return e-1}));$(b.rows(t).nodes()).addClass(U)}};b.on("mousedown.dt","tbody tr",(function(e){var t=$(this),n=b.row(this);if("multiple"===z)if(e.shiftKey&&void 0!==V){var r=!t.hasClass(U),a=Q(n.index());if(p){var l=Y(V,a);l.map((function(e){var t=g.indexOf(e);if(t>=0){var n=b.row(t).nodes().to$(),a=!n.hasClass(U);r===a&&n.toggleClass(U)}})),B=r?N(B.concat(l)):B.filter((function(e){return!H(e,l)}))}else Y(V-1,a-1).map((function(e){var t=b.row(e).nodes().to$(),n=!t.hasClass(U);r===n&&t.toggleClass(U)}));e.preventDefault()}else t.toggleClass(U);else t.hasClass(U)?t.removeClass(U):(b.$("tr."+U).removeClass(U),t.addClass(U));if(p&&!t.hasClass(U)){var i=g[n.index()];H(i,B)&&B.splice($.inArray(i,B),1)}X(),ee(!1),D("rows_selected",B),D("row_last_clicked",Q(n.index()),null,null,{priority:"event"}),V=Q(n.index())})),ee(!1),D("rows_selected",B),p&&b.on("draw.dt",(function(){ee(!1)})),M.selectRows=function(e,t){B=$.makeArray(e),ee(t),D("rows_selected",B)}}if(H(j,["column","row+column"])){"row+column"===j&&$(b.columns().footer()).css("cursor","pointer");var te=function(){if(R)E=[];else if(0!==G.length){var e=G[0]<=0;E=e?$(E).not(G.map((function(e){return-e}))).get():$(E).filter(G).get()}},ne=function(e){e||te(),E=$(E).filter(b.columns().indexes()).get(),b.columns().nodes().flatten().to$().removeClass(U),E.length>0&&b.columns(E).nodes().flatten().to$().addClass(U)},re=function(){var e="column"===j?b.cell(this).index().column:$.inArray(this,b.columns().footer()),t=$(b.column(e).nodes());-1!==e&&(t.hasClass(U)?(t.removeClass(U),E.splice($.inArray(e,E),1)):("single"===z&&$(b.cells().nodes()).removeClass(U),t.addClass(U),E="single"===z?[e]:N(E.concat([e]))),ne(!1),D("columns_selected",E))};"column"===j?$(b.table().body()).on("click.dt","td",re):$(b.table().footer()).on("click.dt","tr th",re),ne(!1),D("columns_selected",E),p&&b.on("draw.dt",(function(){ne(!1)})),M.selectColumns=function(e,t){E=$.makeArray(e),ne(t),D("columns_selected",E)}}if("cell"===j){var ae=[],le=[];null!==J&&(ae=J),null!==K&&"boolean"!=typeof K&&(le=K);var ie=function(e,t){for(var n=0;n<t.length;n++)if(e[0]===t[n][0]&&e[1]===t[n][1])return n;return-1},oe=function(){if(R)ae=[];else if(0!==le.length){var e=le[0][0]<=0,t=[];e?ae.map((function(e){-1===ie([-e[0],-e[1]],le)&&t.push(e)})):ae.map((function(e){ie(e,le)>-1&&t.push(e)})),ae=t}},se=function(e){e||oe(),b.$("td."+U).removeClass(U),0!==ae.length&&(p?b.cells({page:"current"}).every((function(){var e=W(this);ie([e.row,e.col],ae)>-1&&$(this.node()).addClass(U)})):ae.map((function(e){$(b.cell(e[0]-1,e[1]).node()).addClass(U)})))};b.on("click.dt","tbody td",(function(){var e=$(this),t=W(b.cell(this));e.hasClass(U)?(e.removeClass(U),ae.splice(ie([t.row,t.col],ae),1)):("single"===z&&$(b.cells().nodes()).removeClass(U),e.addClass(U),ae="single"===z?[[t.row,t.col]]:N(ae.concat([[t.row,t.col]]))),se(!1),D("cells_selected",a(ae),"shiny.matrix")})),se(!1),D("cells_selected",a(ae),"shiny.matrix"),p&&b.on("draw.dt",(function(){se(!1)})),M.selectCells=function(e,t){ae=e||[],se(t),D("cells_selected",a(ae),"shiny.matrix")}}}var ce=function(){var e=function(e,t){var n;if(p)n="current"===t.page?g:v;else{var r=b.rows($.extend({search:"applied",page:"all"},t));n=A(r.indexes().toArray())}D("rows_"+e,n)};e("current",{page:"current"}),e("all",{})};b.on("draw.dt",ce),ce(),b.on("draw.dt column-visibility.dt",(function(){D("state",b.state())})),D("state",b.state());var de=function(){D("search",b.search()),c&&D("search_columns",c.toArray().map((function(e){return $(e).find("input").first().val()})))};b.on("draw.dt",de),de();var ue=function(e){var t=W(b.cell(e));return t.value=b.cell(e).data(),t};b.on("click.dt","tbody td",(function(){D("cell_clicked",ue(this),null,null,{priority:"event"})})),D("cell_clicked",{}),b.on("click.dt","tbody td a",(function(e){""===this.className&&e.stopPropagation()})),M.addRow=function(e,t,n){var r=b.columns().indexes().length,a=r-e.length;if(1===a)e=t.concat(e);else if(0!==a)throw"New data must be of the same length as current data ("+r+")";b.row.add(e).draw(n)},M.updateSearch=function(e){null!==e.global&&$(b.table().container()).find("input[type=search]").first().val(e.global).trigger("input");var t=e.columns;c&&null!==t&&(c.toArray().map((function(e,n){var r="string"==typeof t?t:t[n];void 0!==r&&($(e).find("input").first().val(r),S(n,r))})),b.draw())},M.hideCols=function(e,t){t&&b.columns().visible(!0,!1),b.columns(e).visible(!1)},M.showCols=function(e,t){t&&b.columns().visible(!1,!1),b.columns(e).visible(!0)},M.colReorder=function(e,t){b.colReorder.order(e,t)},M.selectPage=function(e){if(b.page.info().pages<e||e<1)throw"Selected page is out of range";b.page(e-1).draw(!1)},M.reloadData=function(e,t){M.selectRows&&H("row",t)&&M.selectRows([]),M.selectColumns&&H("column",t)&&M.selectColumns([]),M.selectCells&&H("cell",t)&&M.selectCells([]),b.ajax.reload(null,e)},M.updateFilters=function(e){c.each((function(t,n){var a=t;if(c.length>e.length){if(0===t)return;a=t-1}e[a]&&r(n,e[a])}))},b.shinyMethods=M}}else{for(var fe in i.append("&nbsp;"),l.clearInputs)l.clearInputs[fe]();l.clearInputs={}}}else l.data=n},resize:function(e,t,n,r){r.data&&this.renderValue(e,r.data,r),r.fillContainer&&this.fillAvailableHeight(e,n),this.adjustWidth(e)},fillAvailableHeight:function(e,t){var n=$(e).find("div.dataTables_wrapper"),r=$(e).find($("div.dataTables_scrollBody")),a=t-(n.innerHeight()-r.innerHeight());r.css("max-height","none"),r.height(a+"px")},adjustWidth:function(e){var t=$(e),n=t.data("datatable");n&&n.columns.adjust(),t.find(".dataTables_scrollHeadInner").css("width","").children("table").css("margin-left","")}}),HTMLWidgets.shinyMode&&Shiny.addCustomMessageHandler("datatable-calls",(function(e){var t=e.id,n=document.getElementById(t),r=n?$(n).data("datatable"):null;if(r){var a=r.shinyMethods,l=e.call;a[l.method]&&a[l.method].apply(r,l.args)}}))}();